{"version":3,"file":"pages3/aboutme/index.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;AAEA;AAAA;AAgBA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAiCA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AASA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAlEA;AACA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAwBA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAaA;AACA;AAAA;AAAA;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAGA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAGA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAIA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AAEA;AAAA;AAGA;AAAA;AAAA;AAGA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAGA;AAAA;AACA;AACA;AAAA;AAEA;;;;;;;;;;;;;AC7NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://wechat-app-hrbust/._src_pages3_aboutme_index.tsx","webpack://wechat-app-hrbust/./src/pages3/aboutme/index.tsx?79e3"],"sourcesContent":["import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { View, ScrollView, Text, OpenData, Image, Button, Audio } from '@tarojs/components'\nimport Taro from '@tarojs/taro'\nimport { IRootState } from '@/types'\nimport appAvatar from '@/assets/icon/app_avatar.png'\nimport { routes } from '@/app.config'\nimport bottomIcon from './res/wechat_bottom.jpg'\n// import aboutIcon from './res/hrbust_about.jpg'\n// import paymentIcon from './res/payment.jpg'\n\nimport './index.less'\n\n\ntype PropsFromState = ReturnType<typeof mapStateToProps>\n\ntype PropsFromDispatch = {}\n\ntype PageOwnProps = {}\n\ntype PageState = {\n  scrollTop: number\n  count: number\n}\n\ntype IProps = PropsFromState & PropsFromDispatch & PageOwnProps\n\nconst CONFIG = [\n  {\n    position: 'left',\n    text: '你好。'\n  },\n  {\n    position: 'right',\n    text: '谁开发的这么烂的小程序？'\n  },\n  {\n    position: 'left',\n    text: '我们都是理工毕业的学长。 '\n  },\n  {\n    position: 'left',\n    type: 'image',\n    // src: aboutIcon,\n    // viewUrl: aboutIcon\n    src: `http://my-home-static.smackgg.cn/hrbust_about.jpg?imageView/1/w/150/h/225&timestamps=${Date.now()}`,\n    viewUrl: `http://my-home-static.smackgg.cn/hrbust_about.jpg?timestamps=${Date.now()}`\n  },\n  {\n    position: 'left',\n    text: '话说这小程序真的很烂嘛？😫 '\n  },\n  {\n    position: 'right',\n    text: '这小程序都有什么功能？'\n  },\n  {\n    position: 'left',\n    text: '1.主要是查询教务在线的信息。2.个人课表、成绩、考试信息等可分享给好友（右上角分享）。3.支持多账号登陆。4.图书馆可以查询图书在馆还是借出。5.数据展示页面下拉刷新上拉加载。'\n  },\n  {\n    position: 'left',\n    text: '大概就这些。当然，如果你有很好的建议，我们会考虑加更多的功能。'\n  },\n  {\n    position: 'right',\n    text: '现在的功能和体验好差啊！'\n  },\n  {\n    position: 'left',\n    text: '如果你有任何建议，欢迎联系我！😎 '\n  },\n  {\n    position: 'right',\n    text: '好了，你可以退下了！💩'\n  },\n  {\n    position: 'left',\n    text: '如果觉得这个小程序还不错，可以保存下方图片，识别二维码给我们一点点打赏。毕竟服务器以及程序的后期维护也都需要费用。1分也是爱🤑 。'\n  },\n  {\n    position: 'left',\n    type: 'image',\n    // src: paymentIcon\n    src: 'http://my-home-static.smackgg.cn/payment.jpeg'\n  },\n  {\n    position: 'right',\n    text: '死开 🙄 ，1分钱也不给 😤'\n  }\n]\n\nclass AboutMe extends Component<IProps, PageState> {\n  state: Readonly<PageState> = {\n    scrollTop: 0,\n    count: -1,\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.timer)\n  }\n\n  audioCtx: Taro.InnerAudioContext\n  timer: any\n\n  onLoad() {\n    Taro.showShareMenu({\n      withShareTicket: true\n    })\n\n    const audioCtx = this.audioCtx = Taro.createInnerAudioContext()\n\n    audioCtx.autoplay = false\n    audioCtx.src = 'http://my-home-static.smackgg.cn/weixin.mp3'\n    // audioCtx.onPlay(() => {\n    //   console.log('开始播放')\n    // })\n    // audioCtx.onError((res) => {\n    //   // console.log(res.errMsg)\n    //   // console.log(res.errCode)\n    // })\n\n    // this.handler()\n    this.timer = setInterval(() => {\n      this.handler()\n    }, 2000)\n  }\n\n  handler = () => {\n    let { count, scrollTop } = this.state\n    count += 1\n\n    if (count > CONFIG.length - 1) {\n      clearInterval(this.timer)\n      return\n    }\n\n    // 音频\n    if (CONFIG[count].position === 'left') {\n      this.audioCtx.seek(0)\n      this.audioCtx.play()\n    }\n\n    this.setState({\n      count,\n      scrollTop: scrollTop += 2000\n    })\n  }\n\n  onShareAppMessage() {\n    return {\n      title: '哈理工专属小程序理工喵, 快来撩我呀。',\n      path: routes.aboutme\n    }\n  }\n\n  // 点击图片展示\n  viewImage = (src: string) => {\n    Taro.previewImage({\n      current: src,\n      urls: [src],\n      fail() {\n        console.error('fail')\n      }\n    })\n  }\n\n  render () {\n    const { count, scrollTop } = this.state\n\n    return (\n      <View className=\"aboutme-page\">\n        <ScrollView className=\"list-wrapper\" scrollY scrollTop={scrollTop}>\n          {/* <View className=\"time\">{time}</View> */}\n          <View className=\"list\">\n            {\n              CONFIG.slice(0, count + 1).map((item) => {\n                return <View key=\"wechat\" id={item.text}>\n                  <View className={`wechat animation ${item.position}`}>\n                    <View className=\"avatar\">\n                      {\n                        item.position === 'left'\n                          ? <Image className=\"avatar__image\" src={appAvatar} />\n                          : <OpenData className=\"avatar__image\" type=\"userAvatarUrl\" lang=\"zh_CN\"></OpenData>\n                      }\n                    </View>\n                    {\n                      item.type === 'image' && <View className=\"content content-image\" onClick={() => this.viewImage(item.viewUrl || item.src)}>\n                        <View className=\"picture\">\n                          <Image className=\"content__image\" src={item.src} mode=\"widthFix\" />\n                        </View>\n                      </View>\n                    }\n                    {\n                      item.type !== 'image' && <View className=\"content content-text\">\n                        <View className=\"plain\">\n                          <Text>{item.text}<OpenData type=\"userNickName\" lang=\"zh_CN\"></OpenData></Text>\n                        </View>\n                      </View>\n                    }\n                  </View>\n                </View>\n              })\n            }\n          </View>\n          <View className=\"block\"></View>\n        </ScrollView>\n\n        <Button className=\"bottom\" open-type=\"contact\">\n          <Image className=\"bottom__image\" src={bottomIcon} />\n        </Button>\n        <Audio src=\"http://my-home-static.smackgg.cn/weixin.mp3\" id=\"myAudio\"></Audio>\n      </View>\n    )\n  }\n}\n\nconst mapStateToProps = (state: IRootState) => ({\n  user: state.user,\n})\n\nexport default connect<PropsFromState, PropsFromDispatch, PageOwnProps>(mapStateToProps)(AboutMe)\n","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"../../../../../node_modules/.pnpm/babel-loader@8.2.1_@babel+core@7.26.9_webpack@5.78.0_@swc+core@1.3.23_/node_modules/babel-loader/lib/index.js??ruleSet[1].rules[5].use[0]!./index.tsx\"\nvar config = {\"navigationBarTitleText\":\"理工喵\"};\n\ncomponent.enableShareAppMessage = true\nvar inst = Page(createPageConfig(component, 'pages3/aboutme/index', {root:{cn:[]}}, config || {}))\n\n\nexport default component\n"],"names":[],"sourceRoot":""}